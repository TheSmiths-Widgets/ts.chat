Ext.data.JsonP.chat({"tagname":"class","name":"chat","autodetected":{},"files":[{"filename":"widget.js","href":null}],"requires":["nl.fokkezb.pullToRefresh","ts.messageBuilderFactory"],"members":[{"name":"_NATURE","tagname":"property","owner":"chat","id":"property-_NATURE","meta":{"private":true,"readonly":true}},{"name":"_messages","tagname":"property","owner":"chat","id":"property-_messages","meta":{"private":true}},{"name":"_rows","tagname":"property","owner":"chat","id":"property-_rows","meta":{"private":true}},{"name":"_buildMessages","tagname":"method","owner":"chat","id":"method-_buildMessages","meta":{"private":true}},{"name":"_loadOld","tagname":"method","owner":"chat","id":"method-_loadOld","meta":{"private":true}},{"name":"_resizeTypingArea","tagname":"method","owner":"chat","id":"method-_resizeTypingArea","meta":{"private":true}},{"name":"_send","tagname":"method","owner":"chat","id":"method-_send","meta":{"private":true}},{"name":"_snatchFocus","tagname":"method","owner":"chat","id":"method-_snatchFocus","meta":{"private":true}},{"name":"getMostRecent","tagname":"method","owner":"chat","id":"method-getMostRecent","meta":{}},{"name":"getOldest","tagname":"method","owner":"chat","id":"method-getOldest","meta":{}},{"name":"init","tagname":"method","owner":"chat","id":"method-init","meta":{}},{"name":"loadOld","tagname":"method","owner":"chat","id":"method-loadOld","meta":{}},{"name":"receive","tagname":"method","owner":"chat","id":"method-receive","meta":{}},{"name":"load","tagname":"event","owner":"chat","id":"event-load","meta":{}},{"name":"newmessage","tagname":"event","owner":"chat","id":"event-newmessage","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-chat","classIcon":"icon-class","superclasses":[],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Requires</h4><div class='dependency'>nl.fokkezb.pullToRefresh</div><div class='dependency'>ts.messageBuilderFactory</div></pre><div class='doc-contents'><p>A simple chat widget.</p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-property'>Properties</h3><div class='subsection'><div id='property-_NATURE' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='chat'>chat</span><br/></div><a href='#!/api/chat-property-_NATURE' class='name expandable'>_NATURE</a> : Object<span class=\"signature\"><span class='private' >private</span><span class='readonly' >readonly</span></span></div><div class='description'><div class='short'>The nature of the message, old or new. ...</div><div class='long'><p>The nature of the message, old or new.</p>\n<p>Defaults to: <code>{&#39;OLD&#39;: 1, &#39;NEW&#39;: 2}</code></p></div></div></div><div id='property-_messages' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='chat'>chat</span><br/></div><a href='#!/api/chat-property-_messages' class='name expandable'>_messages</a> : Object[]<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'><p>All messages stored by the widget.</p>\n</div><div class='long'><p>All messages stored by the widget.</p>\n</div></div></div><div id='property-_rows' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='chat'>chat</span><br/></div><a href='#!/api/chat-property-_rows' class='name expandable'>_rows</a> : Object[]<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>All rows corresponding to the messages. ...</div><div class='long'><p>All rows corresponding to the messages. In reverse order.</p>\n<p>Defaults to: <code>[]</code></p></div></div></div></div></div><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-_buildMessages' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='chat'>chat</span><br/></div><a href='#!/api/chat-method-_buildMessages' class='name expandable'>_buildMessages</a>( <span class='pre'>nature, [messages]</span> ) : <a target=\"_blank\" href=\"http://docs.appcelerator.com/titanium/3.0/#!/api/Titanium.UI.TableViewRow\">TableViewRow[]</a><span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Build views corresponding to the given messages ...</div><div class='long'><p>Build views corresponding to the given messages</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>nature</span> : Number<div class='sub-desc'><p>The nature of the message (old or new)</p>\n</div></li><li><span class='pre'>messages</span> : Array (optional)<div class='sub-desc'><p>Messages to add. If no message are supplied, all the existing one\nwill be used to re-generate the views.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a target=\"_blank\" href=\"http://docs.appcelerator.com/titanium/3.0/#!/api/Titanium.UI.TableViewRow\">TableViewRow[]</a></span><div class='sub-desc'><p>The corresponding TableViewRows that have been generated</p>\n</div></li></ul></div></div></div><div id='method-_loadOld' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='chat'>chat</span><br/></div><a href='#!/api/chat-method-_loadOld' class='name expandable'>_loadOld</a>( <span class='pre'>refreshEvent</span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Listener that handle a refresh / load event triggered when the user is scrolling to get older\nmessages. ...</div><div class='long'><p>Listener that handle a refresh / load event triggered when the user is scrolling to get older\nmessages.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>refreshEvent</span> : Object<div class='sub-desc'><p>The event comming from nl.fokkezb.pullToRefresh widget</p>\n</div></li></ul><h3 class='pa'>Fires</h3><ul><li><a href=\"#!/api/chat-event-load\" rel=\"chat-event-load\" class=\"docClass\">load</a></li></ul></div></div></div><div id='method-_resizeTypingArea' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='chat'>chat</span><br/></div><a href='#!/api/chat-method-_resizeTypingArea' class='name expandable'>_resizeTypingArea</a>( <span class='pre'>changeEvent</span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Avoid the area to become too large while typing a message ...</div><div class='long'><p>Avoid the area to become too large while typing a message</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>changeEvent</span> : Object<div class='sub-desc'></div></li></ul></div></div></div><div id='method-_send' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='chat'>chat</span><br/></div><a href='#!/api/chat-method-_send' class='name expandable'>_send</a>( <span class='pre'>clickEvent</span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Listener of the send button. ...</div><div class='long'><p>Listener of the send button. Trigger a 'newMessage' event.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>clickEvent</span> : <a target=\"_blank\" href=\"http://docs.appcelerator.com/titanium/3.0/#!/api/Titanium.UI.Button-event-click\">Button-event-click</a><div class='sub-desc'><p>The corresponding event</p>\n</div></li></ul><h3 class='pa'>Fires</h3><ul><li><a href=\"#!/api/chat-event-newmessage\" rel=\"chat-event-newmessage\" class=\"docClass\">newmessage</a></li></ul></div></div></div><div id='method-_snatchFocus' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='chat'>chat</span><br/></div><a href='#!/api/chat-method-_snatchFocus' class='name expandable'>_snatchFocus</a>( <span class='pre'>clickEvent</span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Listener that handle clicks on the tableview. ...</div><div class='long'><p>Listener that handle clicks on the tableview. It removes the focus on the typing area.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>clickEvent</span> : <a target=\"_blank\" href=\"http://docs.appcelerator.com/titanium/3.0/#!/api/Titanium.UI.Button-event-click\">Titanium.UI.Button-event-click</a><div class='sub-desc'><p>The corresponding event</p>\n</div></li></ul></div></div></div><div id='method-getMostRecent' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='chat'>chat</span><br/></div><a href='#!/api/chat-method-getMostRecent' class='name expandable'>getMostRecent</a>( <span class='pre'></span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Retrieve the most recent message and its corresponding row stored in the widget ...</div><div class='long'><p>Retrieve the most recent message and its corresponding row stored in the widget</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>The required data</p>\n</div></li></ul></div></div></div><div id='method-getOldest' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='chat'>chat</span><br/></div><a href='#!/api/chat-method-getOldest' class='name expandable'>getOldest</a>( <span class='pre'></span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Retrieve the oldest message and its corresponding row stored in the widget. ...</div><div class='long'><p>Retrieve the oldest message and its corresponding row stored in the widget.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>The required data</p>\n</div></li></ul></div></div></div><div id='method-init' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='chat'>chat</span><br/></div><a href='#!/api/chat-method-init' class='name expandable'>init</a>( <span class='pre'>config</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Initialize the widget. ...</div><div class='long'><p>Initialize the widget. Should be called before any further action.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>config</span> : Object<div class='sub-desc'><p>The configuration of the module</p>\n<ul><li><span class='pre'>batchSize</span> : Number<div class='sub-desc'><p>How many message should be ask for each load</p>\n</div></li><li><span class='pre'>maxTypingHeight</span> : Number<div class='sub-desc'><p>The max size of the typing area, if decimal less than 1, a\n     corresponding percentage of the screen size will be used.</p>\n</div></li><li><span class='pre'>messageBuilder</span> : <a target=\"_blank\" href=\"https://thesmiths-widgets.github.io/ts.messageBuilderFactory#!/api/builders.MessageBuilder\">MessageBuilder</a><div class='sub-desc'><p>Used to build every message view.</p>\n</div></li><li><span class='pre'>messages</span> : Object[]<div class='sub-desc'><p>Initial set of messages</p>\n</div></li></ul></div></li></ul></div></div></div><div id='method-loadOld' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='chat'>chat</span><br/></div><a href='#!/api/chat-method-loadOld' class='name expandable'>loadOld</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Manually trigger the loading of older messages. ...</div><div class='long'><p>Manually trigger the loading of older messages.</p>\n<h3 class='pa'>Fires</h3><ul><li><a href=\"#!/api/chat-event-load\" rel=\"chat-event-load\" class=\"docClass\">load</a></li></ul></div></div></div><div id='method-receive' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='chat'>chat</span><br/></div><a href='#!/api/chat-method-receive' class='name expandable'>receive</a>( <span class='pre'>messages</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Receive messages from the outside. ...</div><div class='long'><p>Receive messages from the outside.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>messages</span> : Object[] | Object<div class='sub-desc'><p>A new message or several new messages to add</p>\n</div></li></ul></div></div></div></div></div><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-event'>Events</h3><div class='subsection'><div id='event-load' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='chat'>chat</span><br/></div><a href='#!/api/chat-event-load' class='name expandable'>load</a>( <span class='pre'>number, lastMessage, success, error</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Triggered when the user request older message ...</div><div class='long'><p>Triggered when the user request older message</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>number</span> : Number<div class='sub-desc'><p>The number of message requested by the widget</p>\n</div></li><li><span class='pre'>lastMessage</span> : Object<div class='sub-desc'><p>The oldest message owned by the widget</p>\n</div></li><li><span class='pre'>success</span> : Function<div class='sub-desc'><p>Call on success to transmit the requested bunch of messages</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>messages</span> : Object[]<div class='sub-desc'><p>The requested messages</p>\n</div></li></ul></div></li><li><span class='pre'>error</span> : Function<div class='sub-desc'><p>Call one error to inform the widget that something went wrong</p>\n</div></li></ul></div></div></div><div id='event-newmessage' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='chat'>chat</span><br/></div><a href='#!/api/chat-event-newmessage' class='name expandable'>newmessage</a>( <span class='pre'>message, date, success, error</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Triggered when the user send a message ...</div><div class='long'><p>Triggered when the user send a message</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>message</span> : Object<div class='sub-desc'><p>The message entered</p>\n</div></li><li><span class='pre'>date</span> : Date<div class='sub-desc'><p>The date at which it has been send</p>\n</div></li><li><span class='pre'>success</span> : Function<div class='sub-desc'><p>Callback to call once the message has been successfully handled</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>message</span> : Object<div class='sub-desc'><p>The sent message, potentially updated with some data</p>\n</div></li></ul></div></li><li><span class='pre'>error</span> : Function<div class='sub-desc'><p>Callback to call if an error occured</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>errorMessage</span> : String<div class='sub-desc'><p>The error message</p>\n</div></li></ul></div></li></ul></div></div></div></div></div></div></div>","meta":{}});